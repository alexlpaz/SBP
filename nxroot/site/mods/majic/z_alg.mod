////////////////////////////////////////////////////////////////////////////
// Module:      z_alg.mod
// Author:      Alex Paz
// Created:     Monday, June 24, 2013 3:16:48 PM
////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
//
// Description: 
//              
////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// DB INIT - 3xxx


////////////////////////////////////////////////////////////////////////////////
// NEW_INIT - 4xxx


////////////////////////////////////////////////////////////////////////////////
// Pre Validate - 5xxx
// Author:      Alex Paz - Wednesday, June 26, 2013 12:02:46 AM 
// Description: No momento da transferência do grupo, se código de tranferência é do tipo "tranfere para Servidesk" , valida se Novo Grupo é de ServiceDesk 
MODIFY alg PRE_VALIDATE
    z_alg_persiste_transf( )
    5000 FILTER( (EVENT("INSERT")) && ( type=="TR" && z_srl_transfcode != NULL ) ) ;

////////////////////////////////////////////////////////////////////////////////
// Post Validate - 6xxx


////////////////////////////////////////////////////////////////////////////////
// Post CI - 7xxx
// Author:      Alex Paz - Monday, June 24, 2013 3:17:36 PM 
// Description: Dispara z_cr_nome_da_trigger em qualquer alteração de status 
MODIFY alg POST_CI
    z_alg_sol_filhos( persistent_id, call_req_id )
    7000 FILTER( (EVENT("INSERT")) && ( type=="SOLN" || type=="KTSOLN" ) ) ;